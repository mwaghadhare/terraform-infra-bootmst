module "openvpn" {
  source                     = "../../../../modules/services/openvpn/"
  ami_id                     = "${var.ami_id}"
  key_name                   = "${var.env}-${var.region}"
  security_groups            = ["${data.terraform_remote_state.vpc.openvpn_sg_id}"]
  org                        = "${var.org}"
  region                     = "${var.region}"
  fullaz                     = "${var.region}b"
  env                        = "${var.env}"
  instance_type              = "${var.instance_type}"
  name                       = "${var.name}"
  subnet_ids                 = "${data.terraform_remote_state.vpc.public_subnets}"
  org_validator              = "${var.org}-eu-validator"
  number_of_instances        = "${var.number_of_instances}"
  zone_id_public             = "${var.zone_id_public}"
  zone_id_private            = "${var.zone_id_private}"
  root_volume_type           = "${var.root_volume_type}"
  root_volume_size           = "${var.root_volume_size}"
  root_delete_on_termination = "${var.root_delete_on_termination}"
  source_dest_check          = "${var.source_dest_check}"
  monitoring                 = "${var.monitoring}"
  cpu_topic_arn              = "${var.cpu_topic_arn}"
  status_check_arn           = "${var.status_check_arn}"
  comparison_operator        = "${var.comparison_operator}"
  evaluation_periods         = "${var.evaluation_periods}"
  metric_name                = "${var.metric_name}"
  namespace                  = "${var.namespace}"
  period                     = "${var.period}"
  statistic                  = "${var.statistic}"
  threshold                  = "${var.threshold}"
  cpu_metric_name            = "${var.cpu_metric_name}"
  cpu_statistic              = "${var.cpu_statistic}"
  cpu_threshold              = "${var.cpu_threshold}"
}
