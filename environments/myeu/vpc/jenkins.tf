module "jenkins" {
  source                     = "../../../modules/networking/jenkins/"
  key_name                   = "${var.env}-${var.region}"
  security_groups            = ["${module.eu_security_groups.jenkins_sg_id}"]
  region                     = "${var.region}"
  fullaz                     = "${var.region}a"
  env                        = "${var.env}"
  bastion_host               = "${module.bastion.bastion_ip}"
  bastion_user               = "${var.user}"
  ami_id                     = "ami-0fda0ea3c9f9da7f0"
  instance_type              = "c4.xlarge"
  name                       = "jenkins"
  subnet_id                  = "${module.eu_vpc.public_subnets[0]}"
  org_validator              = "mysys-eu-validator"
  number_of_instances        = "1"
  zone_id_public             = "${var.zone_id_public}"
  zone_id_private            = "${var.zone_id_private}"
  user                       = "${var.user}"
  root_volume_type           = "${var.root_volume_type}"
  root_volume_size           = "${var.root_volume_size}"
  root_delete_on_termination = "${var.root_delete_on_termination}"
  device_name                = "${var.device_name}"
  volume_type                = "${var.volume_type}"
  volume_size                = "${var.volume_size}"
  delete_on_termination      = "${var.delete_on_termination}"
  iam_role                   = "${var.iam_role}"
  domain                     = "${var.domain}"
}
